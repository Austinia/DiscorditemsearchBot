"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.Owners = void 0;
const discord_js_1 = require("discord.js");
const User_1 = require("./User");
class Owners extends discord_js_1.Collection {
    constructor(koreanbots, data) {
        super();
        this.koreanbots = koreanbots;
        this.data = data;
        if (!data)
            return;
        for (const owner of data)
            this.set(owner.id, owner);
    }
    async fetch() {
        const result = await Promise.all(this.map(user => (this.koreanbots.api().users(user.id).get())));
        result.filter(f => f.code === 200).forEach(owner => {
            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion
            this.set(owner.data.id, new User_1.User(this.koreanbots, owner.data));
        });
        return result.map(f => f.data);
    }
}
exports.Owners = Owners;
//# sourceMappingURL=Owners.js.map